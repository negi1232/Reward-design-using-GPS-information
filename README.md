# Reward-design-using-GPS-information
# 実験の流れ
# データの取得
・googleロケーション履歴をダウンロード https://takeout.google.com/?pli=1 から、ロケーション履歴をjson形式でダウンロードする。(選択肢に出てこない場合機能を有効にしていない可能性があるため、以下を参考に有効化する) https://support.google.com/accounts/answer/3118687?hl=ja#:~:text=%E3%83%AD%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%B1%A5%E6%AD%B4%E3%82%92%E3%82%AA%E3%83%B3%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AA%E3%83%95%E3%81%AB%E3%81%99%E3%82%8B&text=Google%20%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%81%AE%20%5B%E3%83%AD%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E5%B1%A5%E6%AD%B4,%E3%82%AA%E3%83%B3%E3%81%BE%E3%81%9F%E3%81%AF%E3%82%AA%E3%83%95%E3%81%AB%E3%81%97%E3%81%BE%E3%81%99%E3%80%82

・ダウンロードしたロケーション履歴をデータベースファイルに変換
ダウンロードしたjsonファイルを、事前データの準備フォルダ内に移動しjson2db.pyを実行する。

'''
python json2db.py
'''

# 処理の流れ
ルートを決める際に用いる報酬Rr(route reward)を計算する
1-->data.db内のexpartから１時間ごとのデータをインポートする。
2-->インポートしたデータをosmnxの道路ネットワークを用いてデータ成形を行う(単純な最短経路探索を用いた場合突飛な移動モデルとなってしまうため)
3-->各地点から、上下左右斜めへの移動確立を計算し各地点から移動してくる確率の和を計算する。
4-->計算したパラメータの、値が０の点に対して平均移動フィルタを局所的に適応する。
5-->4を値が０の地点がなくなるまで繰り返す
..end

目的地を定める際に用いる報酬Gr(goal reward)を計算する